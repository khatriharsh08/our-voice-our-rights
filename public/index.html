<!DOCTYPE html>
<html lang="guj">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ркЖрккркгрлЛ ркЕрк╡рк╛ркЬ, ркЖрккркгрк╛ ркЕркзрк┐ркХрк╛рк░</title>
    
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="src/styles.css">
</head>
<body>

    <!-- Header -->
    <header>
        <h1 id="header-title">ркЖрккркгрлЛ ркЕрк╡рк╛ркЬ, ркЖрккркгрк╛ ркЕркзрк┐ркХрк╛рк░</h1>
        <p id="header-subtitle">MGNREGA рккрлНрк░ркжрк░рлНрк╢рки ркбрлЗрк╢ркмрлЛрк░рлНркб</p>
    </header>

    <main>

        <!-- 1. Language Selector (Unchanged) -->
        <div id="language-selector" class="card">
            <h2>ркнрк╛рк╖рк╛ рккрк╕ркВркж ркХрк░рлЛ / Select Language</h2>
            <div class="button-container">
                <button onclick="setLanguage('guj')" class="btn btn-primary">
                    <span class="icon">ЁЯСЛ</span> ркЧрлБркЬрк░рк╛ркдрлА (Gujarati)
                </button>
                <button onclick="setLanguage('en')" class="btn btn-secondary">
                    <span class="icon">ЁЯСЛ</span> English
                </button>
            </div>
        </div>

        <!-- 2. Loading Screen (Modified for clarity) -->
        <div id="loading-screen" class="hidden card">
            <div class="spinner"></div>
            <h2 id="loading-title">ркдркорк╛рк░рлБркВ рк╕рлНркерк╛рки рк╢рлЛркзрлА рк░рк╣рлНркпрк╛ ркЫрлАркП...</h2>
            <p id="loading-subtitle">ркЕркорлЗ ркдркорк╛рк░рлЛ ркЬрк┐рк▓рлНрк▓рлЛ ркЖрккркорлЗрк│рлЗ рк╢рлЛркзрк╡рк╛ркирлЛ рккрлНрк░ркпрк╛рк╕ ркХрк░рлА рк░рк╣рлНркпрк╛ ркЫрлАркП.</p>
            <div id="loading-error" class="hidden">
                <p id="loading-error-text" class="error-text"></p>
                <button onclick="retryLoad()" id="retry-btn" class="btn btn-secondary" style="margin-top: 1rem;"></button>
            </div>
        </div>
        
        

        <!-- 4. District Selector (Unchanged) -->
        <div id="district-selector" class="hidden card">
            <button onclick="showStateSelector()" class="back-btn hidden" id="district-back-btn">
                тЖР рккрк╛ркЫрк╛
            </button>
            <div class="selector-header">
                <h2 id="district-select-title">ркдркорк╛рк░рлЛ ркЬрк┐рк▓рлНрк▓рлЛ рккрк╕ркВркж ркХрк░рлЛ</h2>
            </div>
            <div id="district-grid" class="grid">
                <!-- Districts will be dynamically inserted here -->
            </div>
        </div>

        <!-- 5. Dashboard (COMPLETELY NEW DESIGN) -->
        <div id="dashboard" class="hidden dashboard-space-y">
            
            <!-- District Info Card -->
            <div class="card district-info">
                <div>
                    <h2 id="district-name"></h2>
                    <p id="dash-subtitle"></p>
                    <p id="dash-period" class="data-timestamp"></p>
                </div>
                <button onclick="showStateSelector()" class="btn btn-secondary btn-small" id="dash-back-btn">
                    тЖР ркмркжрк▓рлЛ
                </button>
            </div>

            <!-- Overall Rating Card -->
            <div id="overall-rating-card" class="card">
                <h3 id="overall-rating-title" class="card-title">ркХрлБрк▓ рккрлНрк░ркжрк░рлНрк╢рки</h3>
                <div id="overall-rating-content">
                    <!-- e.g., <div class="rating-emoji">ЁЯСН</div> -->
                    <!-- <div class="rating-text rating-good">рдЕрдЪреНрдЫрд╛</div> -->
                </div>
                <p id="overall-rating-summary" class="rating-summary"></p>
                <button class="audio-btn-large" id="overall-audio-btn" aria-label="Listen to summary">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5 5 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" /></svg>
                    <span id="overall-audio-btn-text"></span>
                </button>
            </div>

            <!-- Performance Tabs -->
            <div class="tabs">
                <button id="tab-current" class="tab-btn active" onclick="showTab('current')"></button>
                <button id="tab-history" class="tab-btn" onclick="showTab('history')"></button>
            </div>

            <!-- Tab Content: Current Month -->
            <div id="tab-content-current" class="tab-content">
                <div class="metrics-grid">
                    
                    <!-- Metric Card: Employment -->
                    <div class="card metric-card">
                        <h3 id="metric-title-employment" class="card-title"></h3>
                        <p id="metric-value-employment" class="metric-value"></p>
                        <p id="metric-subtitle-employment" class="metric-subtitle"></p>
                        <div id="metric-comp-employment" class="comparison-box"></div>
                        <button class="audio-btn-small" id="metric-audio-employment" aria-label="Listen to explanation"></button>
                    </div>

                    <!-- Metric Card: Payment -->
                    <div class="card metric-card">
                        <h3 id="metric-title-payment" class="card-title"></h3>
                        <p id="metric-value-payment" class="metric-value"></p>
                        <p id="metric-subtitle-payment" class="metric-subtitle"></p>
                        <div id="metric-comp-payment" class="comparison-box"></div>
                        <button class="audio-btn-small" id="metric-audio-payment" aria-label="Listen to explanation"></button>
                    </div>

                    <!-- Metric Card: Work Done -->
                    <div class="card metric-card">
                        <h3 id="metric-title-work" class="card-title"></h3>
                        <p id="metric-value-work" class="metric-value"></p>
                        <p id="metric-subtitle-work" class="metric-subtitle"></p>
                        <div id="metric-comp-work" class="comparison-box"></div>
                        <button class="audio-btn-small" id="metric-audio-work" aria-label="Listen to explanation"></button>
                    </div>

                </div>
            </div>

            <!-- Tab Content: Historical -->
            <div id="tab-content-history" class="tab-content hidden">
                <div class="card">
                    <h3 id="history-chart-title" class="card-title"></h3>
                    <div class="chart-container">
                        <canvas id="historical-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Detailed Statistics Section (Accordion) -->
            <div class="card">
                <details>
                    <summary id="more-details-title" class="details-summary"></summary>
                    <div id="stats-details-container" class="details-content">
                        <!-- Detailed stats will be inserted here by app.js -->
                    </div>
                </details>
            </div>

            <!-- Footer -->
            <footer>
                <p id="footer-line1"></p>
                <p id="footer-line2"></p>
            </footer>
        </div>
    </main>

    <!-- JavaScript -->
    <script src="src/config.js"></script>
    <script src="src/app.js"></script>
</body>
</html>
